{"ast":null,"code":"import { useMemo, useRef } from 'react';\nimport useEffectOnce from './useEffectOnce';\nvar useUnmountPromise = function useUnmountPromise() {\n  var refUnmounted = useRef(false);\n  useEffectOnce(function () {\n    return function () {\n      refUnmounted.current = true;\n    };\n  });\n  var wrapper = useMemo(function () {\n    var race = function race(promise, onError) {\n      var newPromise = new Promise(function (resolve, reject) {\n        promise.then(function (result) {\n          if (!refUnmounted.current) resolve(result);\n        }, function (error) {\n          if (!refUnmounted.current) reject(error);else if (onError) onError(error);else console.error('useUnmountPromise', error);\n        });\n      });\n      return newPromise;\n    };\n    return race;\n  }, []);\n  return wrapper;\n};\nexport default useUnmountPromise;","map":{"version":3,"names":["useMemo","useRef","useEffectOnce","useUnmountPromise","refUnmounted","current","wrapper","race","promise","onError","newPromise","Promise","resolve","reject","then","result","error","console"],"sources":["/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/react-use/esm/useUnmountPromise.js"],"sourcesContent":["import { useMemo, useRef } from 'react';\nimport useEffectOnce from './useEffectOnce';\nvar useUnmountPromise = function () {\n    var refUnmounted = useRef(false);\n    useEffectOnce(function () { return function () {\n        refUnmounted.current = true;\n    }; });\n    var wrapper = useMemo(function () {\n        var race = function (promise, onError) {\n            var newPromise = new Promise(function (resolve, reject) {\n                promise.then(function (result) {\n                    if (!refUnmounted.current)\n                        resolve(result);\n                }, function (error) {\n                    if (!refUnmounted.current)\n                        reject(error);\n                    else if (onError)\n                        onError(error);\n                    else\n                        console.error('useUnmountPromise', error);\n                });\n            });\n            return newPromise;\n        };\n        return race;\n    }, []);\n    return wrapper;\n};\nexport default useUnmountPromise;\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,MAAM,QAAQ,OAAO;AACvC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,IAAIC,iBAAiB,GAAG,SAApBA,iBAAiB,GAAe;EAChC,IAAIC,YAAY,GAAGH,MAAM,CAAC,KAAK,CAAC;EAChCC,aAAa,CAAC,YAAY;IAAE,OAAO,YAAY;MAC3CE,YAAY,CAACC,OAAO,GAAG,IAAI;IAC/B,CAAC;EAAE,CAAC,CAAC;EACL,IAAIC,OAAO,GAAGN,OAAO,CAAC,YAAY;IAC9B,IAAIO,IAAI,GAAG,SAAPA,IAAI,CAAaC,OAAO,EAAEC,OAAO,EAAE;MACnC,IAAIC,UAAU,GAAG,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;QACpDL,OAAO,CAACM,IAAI,CAAC,UAAUC,MAAM,EAAE;UAC3B,IAAI,CAACX,YAAY,CAACC,OAAO,EACrBO,OAAO,CAACG,MAAM,CAAC;QACvB,CAAC,EAAE,UAAUC,KAAK,EAAE;UAChB,IAAI,CAACZ,YAAY,CAACC,OAAO,EACrBQ,MAAM,CAACG,KAAK,CAAC,CAAC,KACb,IAAIP,OAAO,EACZA,OAAO,CAACO,KAAK,CAAC,CAAC,KAEfC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACjD,CAAC,CAAC;MACN,CAAC,CAAC;MACF,OAAON,UAAU;IACrB,CAAC;IACD,OAAOH,IAAI;EACf,CAAC,EAAE,EAAE,CAAC;EACN,OAAOD,OAAO;AAClB,CAAC;AACD,eAAeH,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}