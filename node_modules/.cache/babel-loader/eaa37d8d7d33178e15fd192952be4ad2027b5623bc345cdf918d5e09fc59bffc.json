{"ast":null,"code":"import { useCallback, useRef, useState } from 'react';\nimport useUpdateEffect from '../useUpdateEffect';\nfunction composeMiddleware(chain) {\n  return function (context, dispatch) {\n    return chain.reduceRight(function (res, middleware) {\n      return middleware(context)(res);\n    }, dispatch);\n  };\n}\nvar createReducer = function () {\n  var middlewares = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    middlewares[_i] = arguments[_i];\n  }\n  var composedMiddleware = composeMiddleware(middlewares);\n  return function (reducer, initialState, initializer) {\n    if (initializer === void 0) {\n      initializer = function (value) {\n        return value;\n      };\n    }\n    var ref = useRef(initializer(initialState));\n    var _a = useState(ref.current),\n      setState = _a[1];\n    var dispatch = useCallback(function (action) {\n      ref.current = reducer(ref.current, action);\n      setState(ref.current);\n      return action;\n    }, [reducer]);\n    var dispatchRef = useRef(composedMiddleware({\n      getState: function () {\n        return ref.current;\n      },\n      dispatch: function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return dispatchRef.current.apply(dispatchRef, args);\n      }\n    }, dispatch));\n    useUpdateEffect(function () {\n      dispatchRef.current = composedMiddleware({\n        getState: function () {\n          return ref.current;\n        },\n        dispatch: function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return dispatchRef.current.apply(dispatchRef, args);\n        }\n      }, dispatch);\n    }, [dispatch]);\n    return [ref.current, dispatchRef.current];\n  };\n};\nexport default createReducer;","map":{"version":3,"names":["useCallback","useRef","useState","useUpdateEffect","composeMiddleware","chain","context","dispatch","reduceRight","res","middleware","createReducer","middlewares","_i","arguments","length","composedMiddleware","reducer","initialState","initializer","value","ref","_a","current","setState","action","dispatchRef","getState","args","apply"],"sources":["/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/react-use/esm/factory/createReducer.js"],"sourcesContent":["import { useCallback, useRef, useState } from 'react';\nimport useUpdateEffect from '../useUpdateEffect';\nfunction composeMiddleware(chain) {\n    return function (context, dispatch) {\n        return chain.reduceRight(function (res, middleware) {\n            return middleware(context)(res);\n        }, dispatch);\n    };\n}\nvar createReducer = function () {\n    var middlewares = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        middlewares[_i] = arguments[_i];\n    }\n    var composedMiddleware = composeMiddleware(middlewares);\n    return function (reducer, initialState, initializer) {\n        if (initializer === void 0) { initializer = function (value) { return value; }; }\n        var ref = useRef(initializer(initialState));\n        var _a = useState(ref.current), setState = _a[1];\n        var dispatch = useCallback(function (action) {\n            ref.current = reducer(ref.current, action);\n            setState(ref.current);\n            return action;\n        }, [reducer]);\n        var dispatchRef = useRef(composedMiddleware({\n            getState: function () { return ref.current; },\n            dispatch: function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return dispatchRef.current.apply(dispatchRef, args);\n            },\n        }, dispatch));\n        useUpdateEffect(function () {\n            dispatchRef.current = composedMiddleware({\n                getState: function () { return ref.current; },\n                dispatch: function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    return dispatchRef.current.apply(dispatchRef, args);\n                },\n            }, dispatch);\n        }, [dispatch]);\n        return [ref.current, dispatchRef.current];\n    };\n};\nexport default createReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}