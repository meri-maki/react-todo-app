{"ast":null,"code":"import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function useLocalStorage(key, initialValue, options) {\n  if (!isBrowser) {\n    return [initialValue, noop, noop];\n  }\n  if (!key) {\n    throw new Error('useLocalStorage key may not be falsy');\n  }\n  var deserializer = options ? options.raw ? function (value) {\n    return value;\n  } : options.deserializer : JSON.parse;\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  var initializer = useRef(function (key) {\n    try {\n      var serializer = options ? options.raw ? String : options.serializer : JSON.stringify;\n      var localStorageValue = localStorage.getItem(key);\n      if (localStorageValue !== null) {\n        return deserializer(localStorageValue);\n      } else {\n        initialValue && localStorage.setItem(key, serializer(initialValue));\n        return initialValue;\n      }\n    } catch (_a) {\n      // If user is in private mode or has storage restriction\n      // localStorage can throw. JSON.parse and JSON.stringify\n      // can throw, too.\n      return initialValue;\n    }\n  });\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  var _a = useState(function () {\n      return initializer.current(key);\n    }),\n    state = _a[0],\n    setState = _a[1];\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  useLayoutEffect(function () {\n    return setState(initializer.current(key));\n  }, [key]);\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  var set = useCallback(function (valOrFunc) {\n    try {\n      var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n      if (typeof newState === 'undefined') return;\n      var value = void 0;\n      if (options) {\n        if (options.raw) {\n          if (typeof newState === 'string') value = newState;else value = JSON.stringify(newState);\n        } else if (options.serializer) value = options.serializer(newState);else value = JSON.stringify(newState);\n      } else value = JSON.stringify(newState);\n      localStorage.setItem(key, value);\n      setState(deserializer(value));\n    } catch (_a) {\n      // If user is in private mode or has storage restriction\n      // localStorage can throw. Also JSON.stringify can throw.\n    }\n  }, [key, setState]);\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  var remove = useCallback(function () {\n    try {\n      localStorage.removeItem(key);\n      setState(undefined);\n    } catch (_a) {\n      // If user is in private mode or has storage restriction\n      // localStorage can throw.\n    }\n  }, [key, setState]);\n  return [state, set, remove];\n};\nexport default useLocalStorage;","map":{"version":3,"names":["useCallback","useState","useRef","useLayoutEffect","isBrowser","noop","useLocalStorage","key","initialValue","options","Error","deserializer","raw","value","JSON","parse","initializer","serializer","String","stringify","localStorageValue","localStorage","getItem","setItem","_a","current","state","setState","set","valOrFunc","newState","remove","removeItem","undefined"],"sources":["/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/react-use/esm/useLocalStorage.js"],"sourcesContent":["import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}