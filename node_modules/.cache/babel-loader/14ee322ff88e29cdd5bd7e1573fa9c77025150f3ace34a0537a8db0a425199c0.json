{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { noop, off, on } from './misc/util';\n// const usePermission = <T extends PermissionDescriptor>(permissionDesc: T): IState => {\nvar usePermission = function usePermission(permissionDesc) {\n  var _a = useState(''),\n    state = _a[0],\n    setState = _a[1];\n  useEffect(function () {\n    var mounted = true;\n    var permissionStatus = null;\n    var onChange = function onChange() {\n      if (!mounted) {\n        return;\n      }\n      setState(function () {\n        var _a;\n        return (_a = permissionStatus === null || permissionStatus === void 0 ? void 0 : permissionStatus.state) !== null && _a !== void 0 ? _a : '';\n      });\n    };\n    navigator.permissions.query(permissionDesc).then(function (status) {\n      permissionStatus = status;\n      on(permissionStatus, 'change', onChange);\n      onChange();\n    }).catch(noop);\n    return function () {\n      permissionStatus && off(permissionStatus, 'change', onChange);\n      mounted = false;\n      permissionStatus = null;\n    };\n  }, [permissionDesc]);\n  return state;\n};\nexport default usePermission;","map":{"version":3,"names":["useEffect","useState","noop","off","on","usePermission","permissionDesc","_a","state","setState","mounted","permissionStatus","onChange","navigator","permissions","query","then","status","catch"],"sources":["/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/react-use/esm/usePermission.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { noop, off, on } from './misc/util';\n// const usePermission = <T extends PermissionDescriptor>(permissionDesc: T): IState => {\nvar usePermission = function (permissionDesc) {\n    var _a = useState(''), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var mounted = true;\n        var permissionStatus = null;\n        var onChange = function () {\n            if (!mounted) {\n                return;\n            }\n            setState(function () { var _a; return (_a = permissionStatus === null || permissionStatus === void 0 ? void 0 : permissionStatus.state) !== null && _a !== void 0 ? _a : ''; });\n        };\n        navigator.permissions\n            .query(permissionDesc)\n            .then(function (status) {\n            permissionStatus = status;\n            on(permissionStatus, 'change', onChange);\n            onChange();\n        })\n            .catch(noop);\n        return function () {\n            permissionStatus && off(permissionStatus, 'change', onChange);\n            mounted = false;\n            permissionStatus = null;\n        };\n    }, [permissionDesc]);\n    return state;\n};\nexport default usePermission;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,IAAI,EAAEC,GAAG,EAAEC,EAAE,QAAQ,aAAa;AAC3C;AACA,IAAIC,aAAa,GAAG,SAAhBA,aAAa,CAAaC,cAAc,EAAE;EAC1C,IAAIC,EAAE,GAAGN,QAAQ,CAAC,EAAE,CAAC;IAAEO,KAAK,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,QAAQ,GAAGF,EAAE,CAAC,CAAC,CAAC;EACtDP,SAAS,CAAC,YAAY;IAClB,IAAIU,OAAO,GAAG,IAAI;IAClB,IAAIC,gBAAgB,GAAG,IAAI;IAC3B,IAAIC,QAAQ,GAAG,SAAXA,QAAQ,GAAe;MACvB,IAAI,CAACF,OAAO,EAAE;QACV;MACJ;MACAD,QAAQ,CAAC,YAAY;QAAE,IAAIF,EAAE;QAAE,OAAO,CAACA,EAAE,GAAGI,gBAAgB,KAAK,IAAI,IAAIA,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACH,KAAK,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,EAAE;MAAE,CAAC,CAAC;IACnL,CAAC;IACDM,SAAS,CAACC,WAAW,CAChBC,KAAK,CAACT,cAAc,CAAC,CACrBU,IAAI,CAAC,UAAUC,MAAM,EAAE;MACxBN,gBAAgB,GAAGM,MAAM;MACzBb,EAAE,CAACO,gBAAgB,EAAE,QAAQ,EAAEC,QAAQ,CAAC;MACxCA,QAAQ,EAAE;IACd,CAAC,CAAC,CACGM,KAAK,CAAChB,IAAI,CAAC;IAChB,OAAO,YAAY;MACfS,gBAAgB,IAAIR,GAAG,CAACQ,gBAAgB,EAAE,QAAQ,EAAEC,QAAQ,CAAC;MAC7DF,OAAO,GAAG,KAAK;MACfC,gBAAgB,GAAG,IAAI;IAC3B,CAAC;EACL,CAAC,EAAE,CAACL,cAAc,CAAC,CAAC;EACpB,OAAOE,KAAK;AAChB,CAAC;AACD,eAAeH,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}