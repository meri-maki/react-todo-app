{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nvar Status;\n(function (Status) {\n  Status[Status[\"init\"] = 0] = \"init\";\n  Status[Status[\"play\"] = 1] = \"play\";\n  Status[Status[\"pause\"] = 2] = \"pause\";\n  Status[Status[\"end\"] = 3] = \"end\";\n})(Status || (Status = {}));\nvar useSpeech = function (text, options) {\n  var mounted = useRef(false);\n  var _a = useState(function () {\n      var _a = options.voice || {},\n        _b = _a.lang,\n        lang = _b === void 0 ? 'default' : _b,\n        _c = _a.name,\n        name = _c === void 0 ? '' : _c;\n      return {\n        isPlaying: false,\n        status: Status[Status.init],\n        lang: options.lang || 'default',\n        voiceInfo: {\n          lang: lang,\n          name: name\n        },\n        rate: options.rate || 1,\n        pitch: options.pitch || 1,\n        volume: options.volume || 1\n      };\n    }),\n    state = _a[0],\n    setState = _a[1];\n  var handlePlay = useCallback(function () {\n    if (!mounted.current) {\n      return;\n    }\n    setState(function (preState) {\n      return __assign(__assign({}, preState), {\n        isPlaying: true,\n        status: Status[Status.play]\n      });\n    });\n  }, []);\n  var handlePause = useCallback(function () {\n    if (!mounted.current) {\n      return;\n    }\n    setState(function (preState) {\n      return __assign(__assign({}, preState), {\n        isPlaying: false,\n        status: Status[Status.pause]\n      });\n    });\n  }, []);\n  var handleEnd = useCallback(function () {\n    if (!mounted.current) {\n      return;\n    }\n    setState(function (preState) {\n      return __assign(__assign({}, preState), {\n        isPlaying: false,\n        status: Status[Status.end]\n      });\n    });\n  }, []);\n  useEffect(function () {\n    mounted.current = true;\n    var utterance = new SpeechSynthesisUtterance(text);\n    options.lang && (utterance.lang = options.lang);\n    options.voice && (utterance.voice = options.voice);\n    utterance.rate = options.rate || 1;\n    utterance.pitch = options.pitch || 1;\n    utterance.volume = options.volume || 1;\n    utterance.onstart = handlePlay;\n    utterance.onpause = handlePause;\n    utterance.onresume = handlePlay;\n    utterance.onend = handleEnd;\n    window.speechSynthesis.speak(utterance);\n    return function () {\n      mounted.current = false;\n    };\n  }, []);\n  return state;\n};\nexport default useSpeech;","map":{"version":3,"names":["__assign","useCallback","useEffect","useRef","useState","Status","useSpeech","text","options","mounted","_a","voice","_b","lang","_c","name","isPlaying","status","init","voiceInfo","rate","pitch","volume","state","setState","handlePlay","current","preState","play","handlePause","pause","handleEnd","end","utterance","SpeechSynthesisUtterance","onstart","onpause","onresume","onend","window","speechSynthesis","speak"],"sources":["/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/react-use/esm/useSpeech.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nvar Status;\n(function (Status) {\n    Status[Status[\"init\"] = 0] = \"init\";\n    Status[Status[\"play\"] = 1] = \"play\";\n    Status[Status[\"pause\"] = 2] = \"pause\";\n    Status[Status[\"end\"] = 3] = \"end\";\n})(Status || (Status = {}));\nvar useSpeech = function (text, options) {\n    var mounted = useRef(false);\n    var _a = useState(function () {\n        var _a = options.voice || {}, _b = _a.lang, lang = _b === void 0 ? 'default' : _b, _c = _a.name, name = _c === void 0 ? '' : _c;\n        return {\n            isPlaying: false,\n            status: Status[Status.init],\n            lang: options.lang || 'default',\n            voiceInfo: { lang: lang, name: name },\n            rate: options.rate || 1,\n            pitch: options.pitch || 1,\n            volume: options.volume || 1,\n        };\n    }), state = _a[0], setState = _a[1];\n    var handlePlay = useCallback(function () {\n        if (!mounted.current) {\n            return;\n        }\n        setState(function (preState) {\n            return __assign(__assign({}, preState), { isPlaying: true, status: Status[Status.play] });\n        });\n    }, []);\n    var handlePause = useCallback(function () {\n        if (!mounted.current) {\n            return;\n        }\n        setState(function (preState) {\n            return __assign(__assign({}, preState), { isPlaying: false, status: Status[Status.pause] });\n        });\n    }, []);\n    var handleEnd = useCallback(function () {\n        if (!mounted.current) {\n            return;\n        }\n        setState(function (preState) {\n            return __assign(__assign({}, preState), { isPlaying: false, status: Status[Status.end] });\n        });\n    }, []);\n    useEffect(function () {\n        mounted.current = true;\n        var utterance = new SpeechSynthesisUtterance(text);\n        options.lang && (utterance.lang = options.lang);\n        options.voice && (utterance.voice = options.voice);\n        utterance.rate = options.rate || 1;\n        utterance.pitch = options.pitch || 1;\n        utterance.volume = options.volume || 1;\n        utterance.onstart = handlePlay;\n        utterance.onpause = handlePause;\n        utterance.onresume = handlePlay;\n        utterance.onend = handleEnd;\n        window.speechSynthesis.speak(utterance);\n        return function () {\n            mounted.current = false;\n        };\n    }, []);\n    return state;\n};\nexport default useSpeech;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}