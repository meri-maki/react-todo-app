{"ast":null,"code":"import { useState } from 'react';\nimport { resolveHookState } from '../misc/hookState';\nimport useEffectOnce from '../useEffectOnce';\nimport useIsomorphicLayoutEffect from '../useIsomorphicLayoutEffect';\nexport function createGlobalState(initialState) {\n  var store = {\n    state: initialState instanceof Function ? initialState() : initialState,\n    setState: function setState(nextState) {\n      store.state = resolveHookState(nextState, store.state);\n      store.setters.forEach(function (setter) {\n        return setter(store.state);\n      });\n    },\n    setters: []\n  };\n  return function () {\n    var _a = useState(store.state),\n      globalState = _a[0],\n      stateSetter = _a[1];\n    useEffectOnce(function () {\n      return function () {\n        store.setters = store.setters.filter(function (setter) {\n          return setter !== stateSetter;\n        });\n      };\n    });\n    useIsomorphicLayoutEffect(function () {\n      if (!store.setters.includes(stateSetter)) {\n        store.setters.push(stateSetter);\n      }\n    });\n    return [globalState, store.setState];\n  };\n}\nexport default createGlobalState;","map":{"version":3,"names":["useState","resolveHookState","useEffectOnce","useIsomorphicLayoutEffect","createGlobalState","initialState","store","state","Function","setState","nextState","setters","forEach","setter","_a","globalState","stateSetter","filter","includes","push"],"sources":["/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/react-use/esm/factory/createGlobalState.js"],"sourcesContent":["import { useState } from 'react';\nimport { resolveHookState } from '../misc/hookState';\nimport useEffectOnce from '../useEffectOnce';\nimport useIsomorphicLayoutEffect from '../useIsomorphicLayoutEffect';\nexport function createGlobalState(initialState) {\n    var store = {\n        state: initialState instanceof Function ? initialState() : initialState,\n        setState: function (nextState) {\n            store.state = resolveHookState(nextState, store.state);\n            store.setters.forEach(function (setter) { return setter(store.state); });\n        },\n        setters: [],\n    };\n    return function () {\n        var _a = useState(store.state), globalState = _a[0], stateSetter = _a[1];\n        useEffectOnce(function () { return function () {\n            store.setters = store.setters.filter(function (setter) { return setter !== stateSetter; });\n        }; });\n        useIsomorphicLayoutEffect(function () {\n            if (!store.setters.includes(stateSetter)) {\n                store.setters.push(stateSetter);\n            }\n        });\n        return [globalState, store.setState];\n    };\n}\nexport default createGlobalState;\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,gBAAgB,QAAQ,mBAAmB;AACpD,OAAOC,aAAa,MAAM,kBAAkB;AAC5C,OAAOC,yBAAyB,MAAM,8BAA8B;AACpE,OAAO,SAASC,iBAAiB,CAACC,YAAY,EAAE;EAC5C,IAAIC,KAAK,GAAG;IACRC,KAAK,EAAEF,YAAY,YAAYG,QAAQ,GAAGH,YAAY,EAAE,GAAGA,YAAY;IACvEI,QAAQ,EAAE,kBAAUC,SAAS,EAAE;MAC3BJ,KAAK,CAACC,KAAK,GAAGN,gBAAgB,CAACS,SAAS,EAAEJ,KAAK,CAACC,KAAK,CAAC;MACtDD,KAAK,CAACK,OAAO,CAACC,OAAO,CAAC,UAAUC,MAAM,EAAE;QAAE,OAAOA,MAAM,CAACP,KAAK,CAACC,KAAK,CAAC;MAAE,CAAC,CAAC;IAC5E,CAAC;IACDI,OAAO,EAAE;EACb,CAAC;EACD,OAAO,YAAY;IACf,IAAIG,EAAE,GAAGd,QAAQ,CAACM,KAAK,CAACC,KAAK,CAAC;MAAEQ,WAAW,GAAGD,EAAE,CAAC,CAAC,CAAC;MAAEE,WAAW,GAAGF,EAAE,CAAC,CAAC,CAAC;IACxEZ,aAAa,CAAC,YAAY;MAAE,OAAO,YAAY;QAC3CI,KAAK,CAACK,OAAO,GAAGL,KAAK,CAACK,OAAO,CAACM,MAAM,CAAC,UAAUJ,MAAM,EAAE;UAAE,OAAOA,MAAM,KAAKG,WAAW;QAAE,CAAC,CAAC;MAC9F,CAAC;IAAE,CAAC,CAAC;IACLb,yBAAyB,CAAC,YAAY;MAClC,IAAI,CAACG,KAAK,CAACK,OAAO,CAACO,QAAQ,CAACF,WAAW,CAAC,EAAE;QACtCV,KAAK,CAACK,OAAO,CAACQ,IAAI,CAACH,WAAW,CAAC;MACnC;IACJ,CAAC,CAAC;IACF,OAAO,CAACD,WAAW,EAAET,KAAK,CAACG,QAAQ,CAAC;EACxC,CAAC;AACL;AACA,eAAeL,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}