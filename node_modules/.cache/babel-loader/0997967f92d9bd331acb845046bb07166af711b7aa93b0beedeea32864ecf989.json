{"ast":null,"code":"import _objectSpread from\"/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Confetti from\"react-confetti\";import{useWindowSize}from\"react-use\";import{arrayMove}from\"@dnd-kit/sortable\";import{v4 as uuidv4}from\"uuid\";// helps generate random id\nimport\"./App.css\";import TodoForm from\"./components/Todos/TodoForm\";import TodoList from\"./components/Todos/TodoList\";import TodosActions from\"./components/Todos/TodosActions\";import BoredTask from\"./components/Todos/BoredTask\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useWindowSize=useWindowSize(),width=_useWindowSize.width,height=_useWindowSize.height;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),editID=_useState4[0],setEditID=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),editedTodo=_useState6[0],setEditedTodo=_useState6[1];// ------- LOCAL STORAGE -------\nuseEffect(function(){var temp=localStorage.getItem(\"todos\");var loadedTodos=JSON.parse(temp);if(loadedTodos){setTodos(loadedTodos);}},[]);useEffect(function(){var temp=JSON.stringify(todos);localStorage.setItem(\"todos\",temp);},[todos]);// ------- TODO FUNCTIONS -------\nvar addTodoHandler=function addTodoHandler(text){var newTodo={id:uuidv4(),text:text,isCompleted:false};if(!text||/^\\s*$/.test(text)){return;}setTodos([].concat(_toConsumableArray(todos),[newTodo]));};var editTodo=function editTodo(id){setTodos(todos.map(function(todo){if(todo.id===id){todo.text=editedTodo;}return todo;}));setEditID(null);setEditedTodo(\"\");};var deleteTodoHandler=function deleteTodoHandler(id){setTodos(todos.filter(function(todo){return todo.id!==id;}));};var toggleTodoHandler=function toggleTodoHandler(id){setTodos(todos.map(function(todo){return todo.id===id?_objectSpread(_objectSpread({},todo),{},{isCompleted:!todo.isCompleted}):_objectSpread({},todo);}));};// ------- TODOS ACTIONS FUNCTIONS -------\nvar resetTodosHandler=function resetTodosHandler(){return setTodos([]);};var clearCompltedTodosHandler=function clearCompltedTodosHandler(){setTodos(todos.filter(function(todo){return!todo.isCompleted;}));};var markAsCompletedHandler=function markAsCompletedHandler(){return setTodos(todos.map(function(todo){return todo.isCompleted===false?_objectSpread(_objectSpread({},todo),{},{isCompleted:true}):_objectSpread({},todo);}));};// ------- TODO LIST STATISTICS FUNCTION -------\nvar completedTodosCount=todos.filter(function(todo){return todo.isCompleted;}).length;var checkIfAllCompletedTodos=todos.filter(function(todo){return!todo.isCompleted;}).length;// ------- TODO DRAG AND DROP FUNCTIONS -------\nvar handleDragEnd=function handleDragEnd(event){var active=event.active,over=event.over;if(active.id!==over.id){setTodos(function(todos){var activeIndex=todos.findIndex(function(todo){return todo.id===active.id;});var overIndex=todos.findIndex(function(todo){return todo.id===over.id;});return arrayMove(todos,activeIndex,overIndex);});}};// ------- MAIN RETURN -------\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[completedTodosCount!==0&&completedTodosCount===todos.length&&/*#__PURE__*/_jsx(Confetti,{numberOfPieces:800,width:width,height:height,run:true,recycle:false}),/*#__PURE__*/_jsx(\"h1\",{children:\"Todo App\"}),/*#__PURE__*/_jsx(BoredTask,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(TodoForm,{addTodo:addTodoHandler}),!!todos.length&&/*#__PURE__*/_jsx(TodosActions,{completedTodosExist:!!completedTodosCount,checkIfAllCompletedTodos:!!checkIfAllCompletedTodos,resetTodos:resetTodosHandler,clearCompletedTodos:clearCompltedTodosHandler,markAsCompleted:markAsCompletedHandler}),/*#__PURE__*/_jsx(TodoList,{toggleTodo:toggleTodoHandler,deleteTodo:deleteTodoHandler,editTodo:editTodo,setEditID:setEditID,editID:editID,setEditedTodo:setEditedTodo,editedTodo:editedTodo,handleDragEnd:handleDragEnd,todos:todos}),completedTodosCount>0&&completedTodosCount!==todos.length&&/*#__PURE__*/_jsxs(\"h2\",{className:\"completed-count-text\",children:[\"You have completed \",/*#__PURE__*/_jsx(\"span\",{className:\"completed-count-text-number\",children:completedTodosCount}),completedTodosCount>1?\" tasks.\":\" task.\"]}),completedTodosCount!==0&&completedTodosCount===todos.length&&/*#__PURE__*/_jsx(\"h2\",{className:\"completed-count-text\",children:\"Congratulations! You have completed all your tasks for today!\"})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Confetti","useWindowSize","arrayMove","v4","uuidv4","TodoForm","TodoList","TodosActions","BoredTask","App","width","height","todos","setTodos","editID","setEditID","editedTodo","setEditedTodo","temp","localStorage","getItem","loadedTodos","JSON","parse","stringify","setItem","addTodoHandler","text","newTodo","id","isCompleted","test","editTodo","map","todo","deleteTodoHandler","filter","toggleTodoHandler","resetTodosHandler","clearCompltedTodosHandler","markAsCompletedHandler","completedTodosCount","length","checkIfAllCompletedTodos","handleDragEnd","event","active","over","activeIndex","findIndex","overIndex"],"sources":["/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport Confetti from \"react-confetti\"\nimport { useWindowSize } from \"react-use\"\nimport { arrayMove } from \"@dnd-kit/sortable\"\nimport { v4 as uuidv4 } from \"uuid\" // helps generate random id\nimport \"./App.css\"\nimport TodoForm from \"./components/Todos/TodoForm\"\nimport TodoList from \"./components/Todos/TodoList\"\nimport TodosActions from \"./components/Todos/TodosActions\"\nimport BoredTask from \"./components/Todos/BoredTask\"\n\nfunction App() {\n  const { width, height } = useWindowSize()\n  const [todos, setTodos] = useState([])\n  const [editID, setEditID] = useState(null)\n\n  const [editedTodo, setEditedTodo] = useState(\"\")\n\n  // ------- LOCAL STORAGE -------\n  useEffect(() => {\n    const temp = localStorage.getItem(\"todos\")\n    const loadedTodos = JSON.parse(temp)\n\n    if (loadedTodos) {\n      setTodos(loadedTodos)\n    }\n  }, [])\n\n  useEffect(() => {\n    const temp = JSON.stringify(todos)\n    localStorage.setItem(\"todos\", temp)\n  }, [todos])\n\n  // ------- TODO FUNCTIONS -------\n  const addTodoHandler = (text) => {\n    const newTodo = {\n      id: uuidv4(),\n      text,\n      isCompleted: false,\n    }\n    if (!text || /^\\s*$/.test(text)) {\n      return\n    }\n    setTodos([...todos, newTodo])\n  }\n  const editTodo = (id) => {\n    setTodos(\n      todos.map((todo) => {\n        if (todo.id === id) {\n          todo.text = editedTodo\n        }\n        return todo\n      })\n    )\n    setEditID(null)\n    setEditedTodo(\"\")\n  }\n  const deleteTodoHandler = (id) => {\n    setTodos(todos.filter((todo) => todo.id !== id))\n  }\n  const toggleTodoHandler = (id) => {\n    setTodos(\n      todos.map((todo) =>\n        todo.id === id\n          ? { ...todo, isCompleted: !todo.isCompleted }\n          : { ...todo }\n      )\n    )\n  }\n\n  // ------- TODOS ACTIONS FUNCTIONS -------\n  const resetTodosHandler = () => setTodos([])\n\n  const clearCompltedTodosHandler = () => {\n    setTodos(todos.filter((todo) => !todo.isCompleted))\n  }\n  const markAsCompletedHandler = () =>\n    setTodos(\n      todos.map((todo) =>\n        todo.isCompleted === false\n          ? { ...todo, isCompleted: true }\n          : { ...todo }\n      )\n    )\n\n  // ------- TODO LIST STATISTICS FUNCTION -------\n  const completedTodosCount = todos.filter((todo) => todo.isCompleted).length\n  const checkIfAllCompletedTodos = todos.filter(\n    (todo) => !todo.isCompleted\n  ).length\n\n  // ------- TODO DRAG AND DROP FUNCTIONS -------\n  const handleDragEnd = (event) => {\n    const { active, over } = event\n\n    if (active.id !== over.id) {\n      setTodos((todos) => {\n        const activeIndex = todos.findIndex((todo) => todo.id === active.id)\n        const overIndex = todos.findIndex((todo) => todo.id === over.id)\n\n        return arrayMove(todos, activeIndex, overIndex)\n      })\n    }\n  }\n\n  // ------- MAIN RETURN -------\n  return (\n    <div className=\"App\">\n      {completedTodosCount !== 0 && completedTodosCount === todos.length && (\n        <Confetti\n          numberOfPieces={800}\n          width={width}\n          height={height}\n          run={true}\n          recycle={false}\n        />\n      )}\n      <h1>Todo App</h1>\n      <BoredTask />\n      <div className=\"app-container\">\n        <TodoForm addTodo={addTodoHandler} />\n        {!!todos.length && (\n          <TodosActions\n            completedTodosExist={!!completedTodosCount}\n            checkIfAllCompletedTodos={!!checkIfAllCompletedTodos}\n            resetTodos={resetTodosHandler}\n            clearCompletedTodos={clearCompltedTodosHandler}\n            markAsCompleted={markAsCompletedHandler}\n          />\n        )}\n        <TodoList\n          toggleTodo={toggleTodoHandler}\n          deleteTodo={deleteTodoHandler}\n          editTodo={editTodo}\n          setEditID={setEditID}\n          editID={editID}\n          setEditedTodo={setEditedTodo}\n          editedTodo={editedTodo}\n          handleDragEnd={handleDragEnd}\n          todos={todos}\n        />\n        {completedTodosCount > 0 && completedTodosCount !== todos.length && (\n          <h2 className=\"completed-count-text\">\n            {`You have completed `}\n            <span className=\"completed-count-text-number\">\n              {completedTodosCount}\n            </span>\n            {completedTodosCount > 1 ? \" tasks.\" : \" task.\"}\n          </h2>\n        )}\n\n        {completedTodosCount !== 0 && completedTodosCount === todos.length && (\n          <h2 className=\"completed-count-text\">{`Congratulations! You have completed all your tasks for today!`}</h2>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}