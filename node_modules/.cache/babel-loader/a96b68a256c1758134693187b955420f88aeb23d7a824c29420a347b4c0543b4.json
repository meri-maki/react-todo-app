{"ast":null,"code":"'use strict';\n\nvar removeRule = require('./vcssom/removeRule').removeRule;\nexports.addon = function (renderer) {\n  // VCSSOM support only browser environment.\n  if (!renderer.client) return;\n  if (process.env.NODE_ENV !== 'production') {\n    require('./__dev__/warnOnMissingDependencies')('cssom', renderer, ['createRule']); // cssom\n  }\n\n  var kebab = renderer.kebab;\n  function VRule(selector, prelude) {\n    this.rule = renderer.createRule(selector, prelude);\n    this.decl = {};\n  }\n  VRule.prototype.diff = function (newDecl) {\n    var oldDecl = this.decl;\n    var style = this.rule.style;\n    var property;\n    for (property in oldDecl) if (newDecl[property] === undefined) style.removeProperty(property);\n    for (property in newDecl) if (newDecl[property] !== oldDecl[property]) style.setProperty(kebab(property), newDecl[property]);\n    this.decl = newDecl;\n  };\n  VRule.prototype.del = function () {\n    removeRule(this.rule);\n  };\n  function VSheet() {\n    /**\n     * {\n     *   '<at-rule-prelude>': {\n     *     '<selector>': {\n     *       color: 'red\n     *     }\n     *   }\n     * }\n     */\n    this.tree = {};\n  }\n  VSheet.prototype.diff = function (newTree) {\n    var oldTree = this.tree;\n\n    // Remove media queries not present in new tree.\n    for (var prelude in oldTree) {\n      if (newTree[prelude] === undefined) {\n        var rules = oldTree[prelude];\n        for (var selector in rules) rules[selector].del();\n      }\n    }\n    for (var prelude in newTree) {\n      if (oldTree[prelude] === undefined) {\n        // Whole media query is new.\n        for (var selector in newTree[prelude]) {\n          var rule = new VRule(selector, prelude);\n          rule.diff(newTree[prelude][selector]);\n          newTree[prelude][selector] = rule;\n        }\n      } else {\n        // Old tree already has rules with this media query.\n        var oldRules = oldTree[prelude];\n        var newRules = newTree[prelude];\n\n        // Remove rules not present in new tree.\n        for (var selector in oldRules) if (!newRules[selector]) oldRules[selector].del();\n\n        // Apply new rules.\n        for (var selector in newRules) {\n          var rule = oldRules[selector];\n          if (rule) {\n            rule.diff(newRules[selector]);\n            newRules[selector] = rule;\n          } else {\n            rule = new VRule(selector, prelude);\n            rule.diff(newRules[selector]);\n            newRules[selector] = rule;\n          }\n        }\n      }\n    }\n    this.tree = newTree;\n  };\n  renderer.VRule = VRule;\n  renderer.VSheet = VSheet;\n};","map":{"version":3,"names":["removeRule","require","exports","addon","renderer","client","process","env","NODE_ENV","kebab","VRule","selector","prelude","rule","createRule","decl","prototype","diff","newDecl","oldDecl","style","property","undefined","removeProperty","setProperty","del","VSheet","tree","newTree","oldTree","rules","oldRules","newRules"],"sources":["/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/nano-css/addon/vcssom.js"],"sourcesContent":["'use strict';\n\nvar removeRule = require('./vcssom/removeRule').removeRule;\n\nexports.addon = function (renderer) {\n    // VCSSOM support only browser environment.\n    if (!renderer.client) return;\n\n    if (process.env.NODE_ENV !== 'production') {\n        require('./__dev__/warnOnMissingDependencies')('cssom', renderer, ['createRule']); // cssom\n    }\n\n    var kebab = renderer.kebab;\n\n    function VRule (selector, prelude) {\n        this.rule = renderer.createRule(selector, prelude);\n        this.decl = {};\n    }\n    VRule.prototype.diff = function (newDecl) {\n        var oldDecl = this.decl;\n        var style = this.rule.style;\n        var property;\n        for (property in oldDecl)\n            if (newDecl[property] === undefined)\n                style.removeProperty(property);\n        for (property in newDecl)\n            if (newDecl[property] !== oldDecl[property])\n                style.setProperty(kebab(property), newDecl[property]);\n        this.decl = newDecl;\n    };\n    VRule.prototype.del = function () {\n        removeRule(this.rule);\n    };\n\n    function VSheet () {\n        /**\n         * {\n         *   '<at-rule-prelude>': {\n         *     '<selector>': {\n         *       color: 'red\n         *     }\n         *   }\n         * }\n         */\n        this.tree = {};\n    }\n    VSheet.prototype.diff = function (newTree) {\n        var oldTree = this.tree;\n\n        // Remove media queries not present in new tree.\n        for (var prelude in oldTree) {\n            if (newTree[prelude] === undefined) {\n                var rules = oldTree[prelude];\n                for (var selector in rules)\n                    rules[selector].del();\n            }\n        }\n\n        for (var prelude in newTree) {\n            if (oldTree[prelude] === undefined) {\n                // Whole media query is new.\n                for (var selector in newTree[prelude]) {\n                    var rule = new VRule(selector, prelude);\n                    rule.diff(newTree[prelude][selector]);\n                    newTree[prelude][selector] = rule;\n                }\n            } else {\n                // Old tree already has rules with this media query.\n                var oldRules = oldTree[prelude];\n                var newRules = newTree[prelude];\n\n                // Remove rules not present in new tree.\n                for (var selector in oldRules)\n                    if (!newRules[selector])\n                        oldRules[selector].del();\n\n                // Apply new rules.\n                for (var selector in newRules) {\n                    var rule = oldRules[selector];\n                    if (rule) {\n                        rule.diff(newRules[selector]);\n                        newRules[selector] = rule;\n                    } else {\n                        rule = new VRule(selector, prelude);\n                        rule.diff(newRules[selector]);\n                        newRules[selector] = rule;\n                    }\n                }\n            }\n        }\n\n        this.tree = newTree;\n    };\n\n    renderer.VRule = VRule;\n    renderer.VSheet = VSheet;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}