{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport { cloneElement, useEffect, useRef, useState } from 'react';\nimport { render } from 'react-universal-interface';\nimport useLatest from './useLatest';\nimport { noop, off, on } from './misc/util';\nvar useScratch = function (params) {\n  if (params === void 0) {\n    params = {};\n  }\n  var disabled = params.disabled;\n  var paramsRef = useLatest(params);\n  var _a = useState({\n      isScratching: false\n    }),\n    state = _a[0],\n    setState = _a[1];\n  var refState = useRef(state);\n  var refScratching = useRef(false);\n  var refAnimationFrame = useRef(null);\n  var _b = useState(null),\n    el = _b[0],\n    setEl = _b[1];\n  useEffect(function () {\n    if (disabled) return;\n    if (!el) return;\n    var onMoveEvent = function (docX, docY) {\n      cancelAnimationFrame(refAnimationFrame.current);\n      refAnimationFrame.current = requestAnimationFrame(function () {\n        var _a = el.getBoundingClientRect(),\n          left = _a.left,\n          top = _a.top;\n        var elX = left + window.scrollX;\n        var elY = top + window.scrollY;\n        var x = docX - elX;\n        var y = docY - elY;\n        setState(function (oldState) {\n          var newState = __assign(__assign({}, oldState), {\n            dx: x - (oldState.x || 0),\n            dy: y - (oldState.y || 0),\n            end: Date.now(),\n            isScratching: true\n          });\n          refState.current = newState;\n          (paramsRef.current.onScratch || noop)(newState);\n          return newState;\n        });\n      });\n    };\n    var onMouseMove = function (event) {\n      onMoveEvent(event.pageX, event.pageY);\n    };\n    var onTouchMove = function (event) {\n      onMoveEvent(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n    };\n    var onMouseUp;\n    var onTouchEnd;\n    var stopScratching = function () {\n      if (!refScratching.current) return;\n      refScratching.current = false;\n      refState.current = __assign(__assign({}, refState.current), {\n        isScratching: false\n      });\n      (paramsRef.current.onScratchEnd || noop)(refState.current);\n      setState({\n        isScratching: false\n      });\n      off(window, 'mousemove', onMouseMove);\n      off(window, 'touchmove', onTouchMove);\n      off(window, 'mouseup', onMouseUp);\n      off(window, 'touchend', onTouchEnd);\n    };\n    onMouseUp = stopScratching;\n    onTouchEnd = stopScratching;\n    var startScratching = function (docX, docY) {\n      if (!refScratching.current) return;\n      var _a = el.getBoundingClientRect(),\n        left = _a.left,\n        top = _a.top;\n      var elX = left + window.scrollX;\n      var elY = top + window.scrollY;\n      var x = docX - elX;\n      var y = docY - elY;\n      var time = Date.now();\n      var newState = {\n        isScratching: true,\n        start: time,\n        end: time,\n        docX: docX,\n        docY: docY,\n        x: x,\n        y: y,\n        dx: 0,\n        dy: 0,\n        elH: el.offsetHeight,\n        elW: el.offsetWidth,\n        elX: elX,\n        elY: elY\n      };\n      refState.current = newState;\n      (paramsRef.current.onScratchStart || noop)(newState);\n      setState(newState);\n      on(window, 'mousemove', onMouseMove);\n      on(window, 'touchmove', onTouchMove);\n      on(window, 'mouseup', onMouseUp);\n      on(window, 'touchend', onTouchEnd);\n    };\n    var onMouseDown = function (event) {\n      refScratching.current = true;\n      startScratching(event.pageX, event.pageY);\n    };\n    var onTouchStart = function (event) {\n      refScratching.current = true;\n      startScratching(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n    };\n    on(el, 'mousedown', onMouseDown);\n    on(el, 'touchstart', onTouchStart);\n    return function () {\n      off(el, 'mousedown', onMouseDown);\n      off(el, 'touchstart', onTouchStart);\n      off(window, 'mousemove', onMouseMove);\n      off(window, 'touchmove', onTouchMove);\n      off(window, 'mouseup', onMouseUp);\n      off(window, 'touchend', onTouchEnd);\n      if (refAnimationFrame.current) cancelAnimationFrame(refAnimationFrame.current);\n      refAnimationFrame.current = null;\n      refScratching.current = false;\n      refState.current = {\n        isScratching: false\n      };\n      setState(refState.current);\n    };\n  }, [el, disabled, paramsRef]);\n  return [setEl, state];\n};\nexport var ScratchSensor = function (props) {\n  var children = props.children,\n    params = __rest(props, [\"children\"]);\n  var _a = useScratch(params),\n    ref = _a[0],\n    state = _a[1];\n  var element = render(props, state);\n  return cloneElement(element, __assign(__assign({}, element.props), {\n    ref: function (el) {\n      if (element.props.ref) {\n        if (typeof element.props.ref === 'object') element.props.ref.current = el;\n        if (typeof element.props.ref === 'function') element.props.ref(el);\n      }\n      ref(el);\n    }\n  }));\n};\nexport default useScratch;","map":{"version":3,"names":["__assign","__rest","cloneElement","useEffect","useRef","useState","render","useLatest","noop","off","on","useScratch","params","disabled","paramsRef","_a","isScratching","state","setState","refState","refScratching","refAnimationFrame","_b","el","setEl","onMoveEvent","docX","docY","cancelAnimationFrame","current","requestAnimationFrame","getBoundingClientRect","left","top","elX","window","scrollX","elY","scrollY","x","y","oldState","newState","dx","dy","end","Date","now","onScratch","onMouseMove","event","pageX","pageY","onTouchMove","changedTouches","onMouseUp","onTouchEnd","stopScratching","onScratchEnd","startScratching","time","start","elH","offsetHeight","elW","offsetWidth","onScratchStart","onMouseDown","onTouchStart","ScratchSensor","props","children","ref","element"],"sources":["/Users/anastasiazhuravleva/CODING/PROJECTS/todo-app-v5/node_modules/react-use/esm/useScratch.js"],"sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport { cloneElement, useEffect, useRef, useState } from 'react';\nimport { render } from 'react-universal-interface';\nimport useLatest from './useLatest';\nimport { noop, off, on } from './misc/util';\nvar useScratch = function (params) {\n    if (params === void 0) { params = {}; }\n    var disabled = params.disabled;\n    var paramsRef = useLatest(params);\n    var _a = useState({ isScratching: false }), state = _a[0], setState = _a[1];\n    var refState = useRef(state);\n    var refScratching = useRef(false);\n    var refAnimationFrame = useRef(null);\n    var _b = useState(null), el = _b[0], setEl = _b[1];\n    useEffect(function () {\n        if (disabled)\n            return;\n        if (!el)\n            return;\n        var onMoveEvent = function (docX, docY) {\n            cancelAnimationFrame(refAnimationFrame.current);\n            refAnimationFrame.current = requestAnimationFrame(function () {\n                var _a = el.getBoundingClientRect(), left = _a.left, top = _a.top;\n                var elX = left + window.scrollX;\n                var elY = top + window.scrollY;\n                var x = docX - elX;\n                var y = docY - elY;\n                setState(function (oldState) {\n                    var newState = __assign(__assign({}, oldState), { dx: x - (oldState.x || 0), dy: y - (oldState.y || 0), end: Date.now(), isScratching: true });\n                    refState.current = newState;\n                    (paramsRef.current.onScratch || noop)(newState);\n                    return newState;\n                });\n            });\n        };\n        var onMouseMove = function (event) {\n            onMoveEvent(event.pageX, event.pageY);\n        };\n        var onTouchMove = function (event) {\n            onMoveEvent(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n        };\n        var onMouseUp;\n        var onTouchEnd;\n        var stopScratching = function () {\n            if (!refScratching.current)\n                return;\n            refScratching.current = false;\n            refState.current = __assign(__assign({}, refState.current), { isScratching: false });\n            (paramsRef.current.onScratchEnd || noop)(refState.current);\n            setState({ isScratching: false });\n            off(window, 'mousemove', onMouseMove);\n            off(window, 'touchmove', onTouchMove);\n            off(window, 'mouseup', onMouseUp);\n            off(window, 'touchend', onTouchEnd);\n        };\n        onMouseUp = stopScratching;\n        onTouchEnd = stopScratching;\n        var startScratching = function (docX, docY) {\n            if (!refScratching.current)\n                return;\n            var _a = el.getBoundingClientRect(), left = _a.left, top = _a.top;\n            var elX = left + window.scrollX;\n            var elY = top + window.scrollY;\n            var x = docX - elX;\n            var y = docY - elY;\n            var time = Date.now();\n            var newState = {\n                isScratching: true,\n                start: time,\n                end: time,\n                docX: docX,\n                docY: docY,\n                x: x,\n                y: y,\n                dx: 0,\n                dy: 0,\n                elH: el.offsetHeight,\n                elW: el.offsetWidth,\n                elX: elX,\n                elY: elY,\n            };\n            refState.current = newState;\n            (paramsRef.current.onScratchStart || noop)(newState);\n            setState(newState);\n            on(window, 'mousemove', onMouseMove);\n            on(window, 'touchmove', onTouchMove);\n            on(window, 'mouseup', onMouseUp);\n            on(window, 'touchend', onTouchEnd);\n        };\n        var onMouseDown = function (event) {\n            refScratching.current = true;\n            startScratching(event.pageX, event.pageY);\n        };\n        var onTouchStart = function (event) {\n            refScratching.current = true;\n            startScratching(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n        };\n        on(el, 'mousedown', onMouseDown);\n        on(el, 'touchstart', onTouchStart);\n        return function () {\n            off(el, 'mousedown', onMouseDown);\n            off(el, 'touchstart', onTouchStart);\n            off(window, 'mousemove', onMouseMove);\n            off(window, 'touchmove', onTouchMove);\n            off(window, 'mouseup', onMouseUp);\n            off(window, 'touchend', onTouchEnd);\n            if (refAnimationFrame.current)\n                cancelAnimationFrame(refAnimationFrame.current);\n            refAnimationFrame.current = null;\n            refScratching.current = false;\n            refState.current = { isScratching: false };\n            setState(refState.current);\n        };\n    }, [el, disabled, paramsRef]);\n    return [setEl, state];\n};\nexport var ScratchSensor = function (props) {\n    var children = props.children, params = __rest(props, [\"children\"]);\n    var _a = useScratch(params), ref = _a[0], state = _a[1];\n    var element = render(props, state);\n    return cloneElement(element, __assign(__assign({}, element.props), { ref: function (el) {\n            if (element.props.ref) {\n                if (typeof element.props.ref === 'object')\n                    element.props.ref.current = el;\n                if (typeof element.props.ref === 'function')\n                    element.props.ref(el);\n            }\n            ref(el);\n        } }));\n};\nexport default useScratch;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}